import{g as ne,j as c,R as oe,r as X,b as ue,u as ce}from"./index-Dz1OiEwP.js";import{G as V}from"./iconBase--opDvRN2.js";import{D as le,a as fe,b as de,c as he}from"./Pages-GQhLz8jZ.js";import{T as me}from"./Toast-CIJJY5AF.js";import{d as $e,a as pe}from"./delete-B1Bqz9gE.js";import{B as K,T as ee,a as ve}from"./axiosInstance-B1e5OFV0.js";import{T as ge}from"./Tooltip-Yp0Xx7qT.js";var I={exports:{}},xe=I.exports,te;function ye(){return te||(te=1,function(m,_){(function(x,f){m.exports=f()})(xe,function(){var x=1e3,f=6e4,C=36e5,j="millisecond",M="second",l="minute",S="hour",g="day",b="week",h="month",L="quarter",k="year",O="date",w="Invalid Date",q=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ae={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],e=s%100;return"["+s+(r[(e-20)%10]||r[e]||r[0])+"]"}},U=function(s,r,e){var n=String(s);return!n||n.length>=r?s:""+Array(r+1-n.length).join(e)+s},ie={s:U,z:function(s){var r=-s.utcOffset(),e=Math.abs(r),n=Math.floor(e/60),t=e%60;return(r<=0?"+":"-")+U(n,2,"0")+":"+U(t,2,"0")},m:function s(r,e){if(r.date()<e.date())return-s(e,r);var n=12*(e.year()-r.year())+(e.month()-r.month()),t=r.clone().add(n,h),a=e-t<0,i=r.clone().add(n+(a?-1:1),h);return+(-(n+(e-t)/(a?t-i:i-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:h,y:k,w:b,d:g,D:O,h:S,m:l,s:M,ms:j,Q:L}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},F="en",Y={};Y[F]=ae;var Q="$isDayjsObject",Z=function(s){return s instanceof E||!(!s||!s[Q])},R=function s(r,e,n){var t;if(!r)return F;if(typeof r=="string"){var a=r.toLowerCase();Y[a]&&(t=a),e&&(Y[a]=e,t=a);var i=r.split("-");if(!t&&i.length>1)return s(i[0])}else{var u=r.name;Y[u]=r,t=u}return!n&&t&&(F=t),t||!n&&F},$=function(s,r){if(Z(s))return s.clone();var e=typeof r=="object"?r:{};return e.date=s,e.args=arguments,new E(e)},o=ie;o.l=R,o.i=Z,o.w=function(s,r){return $(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var E=function(){function s(e){this.$L=R(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Q]=!0}var r=s.prototype;return r.parse=function(e){this.$d=function(n){var t=n.date,a=n.utc;if(t===null)return new Date(NaN);if(o.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var i=t.match(q);if(i){var u=i[2]-1||0,d=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],u,i[3]||1,i[4]||0,i[5]||0,i[6]||0,d)):new Date(i[1],u,i[3]||1,i[4]||0,i[5]||0,i[6]||0,d)}}return new Date(t)}(e),this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return o},r.isValid=function(){return this.$d.toString()!==w},r.isSame=function(e,n){var t=$(e);return this.startOf(n)<=t&&t<=this.endOf(n)},r.isAfter=function(e,n){return $(e)<this.startOf(n)},r.isBefore=function(e,n){return this.endOf(n)<$(e)},r.$g=function(e,n,t){return o.u(e)?this[n]:this.set(t,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,n){var t=this,a=!!o.u(n)||n,i=o.p(e),u=function(z,y){var T=o.w(t.$u?Date.UTC(t.$y,y,z):new Date(t.$y,y,z),t);return a?T:T.endOf(g)},d=function(z,y){return o.w(t.toDate()[z].apply(t.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(y)),t)},p=this.$W,v=this.$M,D=this.$D,N="set"+(this.$u?"UTC":"");switch(i){case k:return a?u(1,0):u(31,11);case h:return a?u(1,v):u(0,v+1);case b:var W=this.$locale().weekStart||0,H=(p<W?p+7:p)-W;return u(a?D-H:D+(6-H),v);case g:case O:return d(N+"Hours",0);case S:return d(N+"Minutes",1);case l:return d(N+"Seconds",2);case M:return d(N+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,n){var t,a=o.p(e),i="set"+(this.$u?"UTC":""),u=(t={},t[g]=i+"Date",t[O]=i+"Date",t[h]=i+"Month",t[k]=i+"FullYear",t[S]=i+"Hours",t[l]=i+"Minutes",t[M]=i+"Seconds",t[j]=i+"Milliseconds",t)[a],d=a===g?this.$D+(n-this.$W):n;if(a===h||a===k){var p=this.clone().set(O,1);p.$d[u](d),p.init(),this.$d=p.set(O,Math.min(this.$D,p.daysInMonth())).$d}else u&&this.$d[u](d);return this.init(),this},r.set=function(e,n){return this.clone().$set(e,n)},r.get=function(e){return this[o.p(e)]()},r.add=function(e,n){var t,a=this;e=Number(e);var i=o.p(n),u=function(v){var D=$(a);return o.w(D.date(D.date()+Math.round(v*e)),a)};if(i===h)return this.set(h,this.$M+e);if(i===k)return this.set(k,this.$y+e);if(i===g)return u(1);if(i===b)return u(7);var d=(t={},t[l]=f,t[S]=C,t[M]=x,t)[i]||1,p=this.$d.getTime()+e*d;return o.w(p,this)},r.subtract=function(e,n){return this.add(-1*e,n)},r.format=function(e){var n=this,t=this.$locale();if(!this.isValid())return t.invalidDate||w;var a=e||"YYYY-MM-DDTHH:mm:ssZ",i=o.z(this),u=this.$H,d=this.$m,p=this.$M,v=t.weekdays,D=t.months,N=t.meridiem,W=function(y,T,A,G){return y&&(y[T]||y(n,a))||A[T].slice(0,G)},H=function(y){return o.s(u%12||12,y,"0")},z=N||function(y,T,A){var G=y<12?"AM":"PM";return A?G.toLowerCase():G};return a.replace(se,function(y,T){return T||function(A){switch(A){case"YY":return String(n.$y).slice(-2);case"YYYY":return o.s(n.$y,4,"0");case"M":return p+1;case"MM":return o.s(p+1,2,"0");case"MMM":return W(t.monthsShort,p,D,3);case"MMMM":return W(D,p);case"D":return n.$D;case"DD":return o.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return W(t.weekdaysMin,n.$W,v,2);case"ddd":return W(t.weekdaysShort,n.$W,v,3);case"dddd":return v[n.$W];case"H":return String(u);case"HH":return o.s(u,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return z(u,d,!0);case"A":return z(u,d,!1);case"m":return String(d);case"mm":return o.s(d,2,"0");case"s":return String(n.$s);case"ss":return o.s(n.$s,2,"0");case"SSS":return o.s(n.$ms,3,"0");case"Z":return i}return null}(y)||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,n,t){var a,i=this,u=o.p(n),d=$(e),p=(d.utcOffset()-this.utcOffset())*f,v=this-d,D=function(){return o.m(i,d)};switch(u){case k:a=D()/12;break;case h:a=D();break;case L:a=D()/3;break;case b:a=(v-p)/6048e5;break;case g:a=(v-p)/864e5;break;case S:a=v/C;break;case l:a=v/f;break;case M:a=v/x;break;default:a=v}return t?a:o.a(a)},r.daysInMonth=function(){return this.endOf(h).$D},r.$locale=function(){return Y[this.$L]},r.locale=function(e,n){if(!e)return this.$L;var t=this.clone(),a=R(e,n,!0);return a&&(t.$L=a),t},r.clone=function(){return o.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),P=E.prototype;return $.prototype=P,[["$ms",j],["$s",M],["$m",l],["$H",S],["$W",g],["$M",h],["$y",k],["$D",O]].forEach(function(s){P[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),$.extend=function(s,r){return s.$i||(s(r,E,$),s.$i=!0),$},$.locale=R,$.isDayjs=Z,$.unix=function(s){return $(1e3*s)},$.en=Y[F],$.Ls=Y,$.p={},$})}(I)),I.exports}var we=ye();const J=ne(we);var B={exports:{}},De=B.exports,re;function Me(){return re||(re=1,function(m,_){(function(x,f){m.exports=f()})(De,function(){return function(x,f){var C=f.prototype,j=C.format;C.format=function(M){var l=this,S=this.$locale();if(!this.isValid())return j.bind(this)(M);var g=this.$utils(),b=(M||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return S.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return S.ordinal(l.week(),"W");case"w":case"ww":return g.s(l.week(),h==="w"?1:2,"0");case"W":case"WW":return g.s(l.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return g.s(String(l.$H===0?24:l.$H),h==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return h}});return j.bind(this)(b)}}})}(B)),B.exports}var Se=Me();const je=ne(Se);J.extend(je);const Ne=m=>{if(!m)return"";const _=J(m).format("Do"),x=J(m).format("MMMM YYYY");return`${_} Of ${x}`};function be(m){return V({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(m)}function ke(m){return V({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(m)}function Oe(m){return V({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(m)}const Fe=({value:m=0,max:_=5})=>{const x=[];for(let f=1;f<=_;f++)m>=f?x.push(c.jsx(ke,{className:"text-yellow-500"},f)):m>=f-.5?x.push(c.jsx(be,{className:"text-yellow-500"},f)):x.push(c.jsx(Oe,{className:"text-yellow-500"},f));return c.jsx("div",{className:"flex gap-1",children:x})},He=({_id:m,refreshReviews:_})=>{const[x,f]=oe.useState(!1),[C,j]=X.useState(!1),M=ue(),l=ce(),S=()=>{f(!0)},g=()=>{f(!1)},[b,h]=X.useState({open:!1,message:"",severity:"info"}),L=(w,q)=>{h({open:!0,message:w,severity:q})},k=()=>{h(w=>({...w,open:!1})),j(!1),f(!1)},O=async()=>{j(!0);try{const w=await ve.delete(`/api/review/delete/${m}`);w.data&&(L(w.data.success,"success"),setTimeout(()=>{M.pathname===`/review/view/${m}`?l(-1):_()},2e3),L("Review deleted","success"))}catch(w){if(w.response.data.error){console.log(w),j(!1),L(w.response.data.error,"error");return}}};return c.jsxs("div",{children:[c.jsx(ge,{title:"Delete review",children:c.jsx("div",{onClick:S,children:c.jsx("img",{src:$e,className:"w-[15px] h-[15spx] pt-[2.5px]"})})}),c.jsxs(le,{open:x,onClose:g,"aria-describedby":"delete-dialog-description",children:[c.jsx(me,{open:b.open,message:b.message,severity:b.severity,onClose:k}),c.jsx(fe,{children:c.jsx("div",{className:"flex justify-end",children:c.jsx(K,{sx:{color:"#FA9E9E",borderColor:"#FA9E9E",borderRadius:"8px",width:"10px",height:"40px"},onClick:g,variant:"outlined",children:c.jsx(de,{className:"w-[1.5rem] h-[1.5rem] "})})})}),c.jsx(he,{sx:{width:"379px"},children:c.jsxs("div",{className:"flex flex-col gap-[2rem]",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("img",{src:pe})}),c.jsxs("div",{className:"flex flex-col gap-[1rem] justify-center text-center",children:[c.jsx(ee,{fontWeight:400,fontSize:22,color:"#00000A",children:"Are you sure you want to Delete this Review?"}),c.jsx(ee,{fontWeight:400,fontSize:14,color:"#55555C",children:"Deleting this Review means all records associated with this tool would no longer be accessible. Please note this action cannot be undone"})]})]})}),c.jsx("div",{className:"p-[20px]",children:c.jsx(K,{onClick:O,fullWidth:!0,variant:"outlined",sx:{borderRadius:"8px",backgroundColor:"#FBE9E9",borderColor:"#D42620",textTransform:"capitalize",fontFamily:"Open Sans, sans-serif",color:"#D42620"},children:C?"Deleting...":"Delete Review"})})]})]})};export{He as D,Fe as R,Ne as f};
