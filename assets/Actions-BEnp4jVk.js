import{R as v,r as p,j as e,u as y}from"./index-Dz1OiEwP.js";import{D as b,a as T,b as N,c as w,C as E}from"./Pages-GQhLz8jZ.js";import{T as S,I as A,M as k}from"./Toast-CIJJY5AF.js";import{d as F,a as D}from"./delete-B1Bqz9gE.js";import{T as c,B as f,a as O}from"./axiosInstance-B1e5OFV0.js";import{e as R}from"./edit-CJ-ANpoM.js";import{M as u}from"./MenuItem-Yjv2Ec7j.js";import{D as z}from"./Divider-1oHlqpFR.js";const B=({toolData:o,refreshTools:r})=>{const[i,n]=v.useState(!1),[d,t]=p.useState(!1),x=()=>{n(!0)},l=()=>{n(!1)},[a,h]=p.useState({open:!1,message:"",severity:"info"}),m=(s,C)=>{h({open:!0,message:s,severity:C})},j=()=>{h(s=>({...s,open:!1})),t(!1),n(!1)},g=async()=>{t(!0);try{const s=await O.delete(`/api/tool/delete/${o==null?void 0:o._id}`);s.data.success&&(m(s.data.message,"success"),r&&setTimeout(()=>{r()},2e3))}catch(s){if(s.response.data.error){console.log(s),t(!1),m(s.response.data.error,"error");return}}};return e.jsxs("div",{children:[e.jsxs("div",{onClick:x,className:"flex gap-[12px] ",children:[e.jsx("img",{src:F,className:"w-[20px] h-[20px] pt-[2.5px]"}),e.jsx(c,{fontWeight:400,fontSize:14,fontFamily:"Open Sans, sans-serif",color:"#00000A",children:"Delete Tool"})]}),e.jsxs(b,{open:i,onClose:l,"aria-describedby":"delete-dialog-description",children:[e.jsx(S,{open:a.open,message:a.message,severity:a.severity,onClose:j}),e.jsx(T,{children:e.jsx("div",{className:"flex justify-end",children:e.jsx(f,{sx:{color:"#FA9E9E",borderColor:"#FA9E9E",borderRadius:"8px",width:"10px",height:"40px"},onClick:l,variant:"outlined",children:e.jsx(N,{className:"w-[1.5rem] h-[1.5rem] "})})})}),e.jsx(w,{sx:{width:"379px"},children:e.jsxs("div",{className:"flex flex-col gap-[2rem]",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:D})}),e.jsxs("div",{className:"flex flex-col gap-[1rem] justify-center text-center",children:[e.jsx(c,{fontWeight:400,fontSize:22,color:"#00000A",children:"Are you sure you want to Delete this A.I tool?"}),e.jsx(c,{fontWeight:400,fontSize:14,color:"#55555C",children:"Deleting this tool means all records associated with this tool would no longer be accessible. Please note this action cannot be undone"})]})]})}),e.jsx("div",{className:"p-[20px]",children:e.jsx(f,{onClick:g,fullWidth:!0,variant:"outlined",sx:{borderRadius:"8px",backgroundColor:"#FBE9E9",borderColor:"#D42620",textTransform:"capitalize",fontFamily:"Open Sans, sans-serif",color:"#D42620"},children:d?"Deleting...":"Delete Tool"})})]})]})},X=({toolDetails:o,refreshTools:r})=>{const[i,n]=p.useState(null),d=!!i,t=y(),x=a=>{n(a.currentTarget)},l=()=>{n(null)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{onClick:x,children:e.jsx(E,{})}),e.jsx(k,{anchorEl:i,open:d,onClose:l,PaperProps:{sx:{borderRadius:2,width:"170px"}},sx:{paddingX:".5rem"},children:e.jsxs("div",{className:"flex flex-col px-[12px] ",children:[e.jsx(u,{onClick:()=>t(`/tool/edit/${o==null?void 0:o._id}`),children:e.jsxs("div",{className:"flex gap-[12px] ",children:[e.jsx("img",{src:R,className:"w-[20px] h-[20px] pt-[2.5px]"}),e.jsx(c,{fontWeight:400,fontSize:14,fontFamily:"Open Sans, sans-serif",color:"#00000A",children:"Edit Tool"})]})}),e.jsx(z,{}),e.jsx(u,{children:e.jsx(B,{toolData:o,refreshTools:r})})]})})]})};export{X as A};
