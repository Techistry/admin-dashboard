import{u as P,r as a,j as e}from"./index-Dz1OiEwP.js";import{P as C,N as R,I}from"./Pages-GQhLz8jZ.js";import{F as _}from"./index-B-aGfNZb.js";import{f as z,R as B,D as N}from"./Delete_Review-Czj_P9Wy.js";import{T as s,a as F}from"./axiosInstance-B1e5OFV0.js";import{D as T}from"./DynamicTitle-BNlEasHI.js";import{a as W}from"./Toast-CIJJY5AF.js";import{I as A}from"./InputAdornment-BKtt8Ofr.js";import{T as $,a as k,b as E,c as d,d as i,e as O}from"./TableRow-Bj2dfIuY.js";import{S as D}from"./Skeleton-DYX3uBd8.js";import{B as M}from"./Box-DNmHB_Tb.js";import"./iconBase--opDvRN2.js";import"./Divider-1oHlqpFR.js";import"./delete-B1Bqz9gE.js";import"./Tooltip-Yp0Xx7qT.js";import"./MenuItem-Yjv2Ec7j.js";const ae=()=>{const r=P(),[g,j]=a.useState(),[u,f]=a.useState(!0),[l,v]=a.useState(""),[h,m]=a.useState(0),[c,S]=a.useState(5),y=(t,n)=>{m(n)},w=t=>{S(parseInt(t.target.value,10)),m(0)},p=async()=>{f(!0);try{const t=await F.get("/api/review/get");if(t.data){j(t.data.data);return}}catch(t){console.error(t)}finally{f(!1)}};a.useEffect(()=>{p()},[]);const o=a.useMemo(()=>{let t=g;return l.trim()&&(t=t==null?void 0:t.filter(n=>`${n.toolId.name} ${n.toolId.category_id}`.toLowerCase().includes(l.toLowerCase()))),t},[l,g]),x=a.useMemo(()=>{const t=h*c,n=t+c;return o==null?void 0:o.slice(t,n)},[o,h,c]);return e.jsxs(C,{children:[e.jsx(T,{title:"Encore AI - Reviews"}),e.jsx(R,{page:"Review Management",children:e.jsx(I,{color:"#777777",size:20})}),e.jsxs("div",{className:"px-[33.5px]",children:[e.jsx("div",{className:"flex justify-between py-[1rem]",children:e.jsx(W,{value:l,onChange:t=>v(t.target.value),placeholder:"Search reviews",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}},InputProps:{startAdornment:e.jsx(A,{position:"start",children:e.jsx(_,{})})}})}),e.jsxs("div",{className:"border-t-[1px] border-[#E5E5E6] ",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx($,{rowsPerPageOptions:[5,10],component:"div",count:(o==null?void 0:o.length)||0,rowsPerPage:c,page:h,onPageChange:y,onRowsPerPageChange:w})}),e.jsxs(k,{sx:{minWidth:650},"aria-label":"admin table",size:"small",children:[e.jsx(E,{children:e.jsxs(d,{sx:{backgroundColor:"#F0F2F5",height:"45px"},children:[e.jsx(i,{align:"left",children:e.jsx(s,{fontWeight:500,fontSize:12,color:"#2B2B33",children:"Tool Name"})}),e.jsx(i,{align:"left",children:e.jsx(s,{fontWeight:500,fontSize:12,color:"#2B2B33",children:"Cateogory"})}),e.jsx(i,{align:"left",children:e.jsx(s,{fontWeight:500,fontSize:12,color:"#2B2B33",children:"Date"})}),e.jsx(i,{align:"left",children:e.jsx(s,{fontWeight:500,fontSize:12,color:"#2B2B33",children:"Comment"})}),e.jsx(i,{align:"left",children:e.jsx(s,{fontWeight:500,fontSize:12,color:"#2B2B33",children:"Rating"})}),e.jsx(i,{align:"left"})]})}),e.jsx(O,{children:u?Array.from({length:5}).map((t,n)=>e.jsx(d,{children:Array.from({length:6}).map((L,b)=>e.jsx(i,{children:e.jsx(D,{variant:"text",width:"100%",height:30})},b))},n)):x&&x.length>0?x.map(t=>e.jsxs(d,{sx:{cursor:"pointer",height:"50px","&:last-child td, &:last-child th":{border:0}},children:[e.jsx(i,{onClick:()=>r(`/review/view/${t._id}`),children:e.jsxs("div",{className:"flex gap-[12px] items-center",children:[e.jsx("img",{src:t.toolId.image,alt:`Logo for ${t.toolId.name}`,height:25,width:25}),e.jsx(s,{color:"#808084",sx:{fontFamily:"Open Sans, sans-serif"},fontWeight:400,fontSize:14,children:t.toolId.name})]})}),e.jsx(i,{align:"left",onClick:()=>r(`/review/view/${t._id}`),children:e.jsx(s,{color:"#808084",sx:{fontFamily:"Open Sans, sans-serif"},fontWeight:400,fontSize:14,children:t.toolId.category_id.name})}),e.jsx(i,{align:"left",onClick:()=>r(`/review/view/${t._id}`),children:e.jsx(s,{color:"#808084",sx:{fontFamily:"Open Sans, sans-serif"},fontWeight:400,fontSize:14,children:z(t.createdAt)})}),e.jsx(i,{align:"left",onClick:()=>r(`/review/view/${t._id}`),children:e.jsx(s,{color:"#808084",sx:{fontFamily:"Open Sans, sans-serif"},fontWeight:400,fontSize:14,children:t.message})}),e.jsx(i,{align:"left",onClick:()=>r(`/review/view/${t._id}`),children:e.jsx(s,{color:"#808084",sx:{fontFamily:"Open Sans, sans-serif"},fontWeight:400,fontSize:14,children:e.jsx(B,{value:t.rating})})}),e.jsx(i,{align:"left",children:e.jsx(N,{_id:t._id,refreshReviews:p})})]},t._id)):e.jsx(d,{children:e.jsx(i,{colSpan:6,children:e.jsx(M,{textAlign:"center",py:4,children:e.jsx(s,{variant:"body1",color:"textSecondary",children:l?"No matching reviews found.":"No reviews found."})})})})})]})]})]})]})};export{ae as default};
