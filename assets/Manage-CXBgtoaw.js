import{R as I,r as i,j as e,u as O}from"./index-Dz1OiEwP.js";import{D as R,a as W,b as E,c as B,P as A,N as L,I as P}from"./Pages-GQhLz8jZ.js";import{T as M,a as v}from"./Toast-CIJJY5AF.js";import{B as j,T as n,a as w}from"./axiosInstance-B1e5OFV0.js";import{B as $}from"./Box-DNmHB_Tb.js";import{F as _}from"./index-B-aGfNZb.js";import{b as Q}from"./index-CJE5MHxj.js";import{A as G}from"./Actions-DP2AkN9X.js";import{D as U}from"./DynamicTitle-BNlEasHI.js";import{I as V}from"./InputAdornment-BKtt8Ofr.js";import{S as C}from"./Skeleton-DYX3uBd8.js";import"./iconBase--opDvRN2.js";import"./Divider-1oHlqpFR.js";import"./edit-CJ-ANpoM.js";import"./Tooltip-Yp0Xx7qT.js";import"./delete-B1Bqz9gE.js";const X=({refreshCategories:u})=>{const[l,p]=I.useState(!1),[f,c]=i.useState(!1),[o,m]=i.useState({name:"",description:""}),[r,d]=i.useState({name:!1,description:!1}),[s,x]=i.useState({open:!1,message:"",severity:"info"}),y=a=>{d(t=>({...t,[a]:!0}))},b=a=>{d(t=>({...t,[a]:!1}))},S=a=>{const{name:t,value:T}=a.target;m(k=>({...k,[t]:T}))},N=()=>Object.values({...o}).every(a=>a.trim()!==""),F=()=>{p(!0)},h=()=>{p(!1),m({name:"",description:""})},g=(a,t)=>{x({open:!0,message:a,severity:t})},D=()=>{x(a=>({...a,open:!1})),c(!1)},z=async()=>{if(c(!0),!N()){c(!1),g("Please input all fields","warning");return}try{const t=await w.post("/api/category/add",o);t.data.success&&(g(t.data.message,"success"),setTimeout(()=>{h(),u()},2e3))}catch(t){if(t.response.data.error){c(!1),g(t.response.data.error,"error");return}}};return e.jsxs("div",{children:[e.jsx(M,{open:s.open,message:s.message,severity:s.severity,onClose:D}),e.jsx(j,{disableElevation:!0,variant:"contained",sx:{width:"165px",padding:"10px",borderRadius:"12px",backgroundColor:"#0167C4",textTransform:"capitalize"},onClick:F,children:"Create New Category"}),e.jsxs(R,{open:l,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxs(W,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(n,{fontWeight:500,sx:{color:"#1D1F2C",fontFamily:"Open Sans, sans-serif"},fontSize:24,children:"Let's Create a New Category"}),e.jsx(j,{sx:{color:"black"},onClick:h,children:e.jsx(E,{className:"w-[1.5rem] h-[1.5rem] "})})]}),e.jsx(n,{fontWeight:400,sx:{color:"#667085",fontFamily:"Open Sans, sans-serif"},fontSize:16,children:"Give us basic details about the Category."})]}),e.jsx(B,{sx:{paddingY:"64px",paddingX:"25px"},children:e.jsx($,{children:e.jsxs("div",{className:"flex flex-col gap-[15px]",children:[e.jsxs("div",{children:[e.jsx(n,{fontWeight:500,sx:{color:r.name?"#0167C4":"#55555C",fontFamily:"Open Sans, sans-serif"},fontSize:14,children:"Name of Category"}),e.jsx(v,{onFocus:()=>y("name"),onBlur:()=>b("name"),focused:r.name,name:"name",value:o.name,onChange:S,type:"text",size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}})]}),e.jsxs("div",{children:[e.jsx(n,{fontWeight:500,sx:{color:r.description?"#0167C4":"#55555C",fontFamily:"Open Sans, sans-serif"},fontSize:14,children:"Decription"}),e.jsx(v,{onFocus:()=>y("description"),onBlur:()=>b("description"),focused:r.description,name:"description",value:o.description,onChange:S,type:"text",size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}}})]}),e.jsx(j,{disabled:f,disableElevation:!0,variant:"contained",sx:{width:"165px",padding:"10px",borderRadius:"12px",backgroundColor:"#0167C4",textTransform:"capitalize"},onClick:z,children:f?"Saving...":"Save"})]})})})]})]})},de=()=>{const u=O(),[l,p]=i.useState(""),[f,c]=i.useState(!0),[o,m]=i.useState(),r=async()=>{try{const s=await w.get("/api/category/all");if(s.data.success){m(s.data.data);return}}catch(s){console.error(s)}finally{c(!1)}},d=i.useMemo(()=>l.trim()?o==null?void 0:o.filter(s=>`${s.name}`.toLowerCase().includes(l.toLowerCase())):o,[l,o]);return i.useEffect(()=>{r()},[]),e.jsxs(A,{children:[e.jsx(U,{title:"Encore AI - Categories"}),e.jsx(L,{page:"Categories",children:e.jsx(P,{size:20,color:"777777"})}),e.jsxs("div",{className:"px-[33.5px] h-[87vh]",children:[e.jsxs("div",{className:"flex justify-between items-center mt-[.5rem]",children:[e.jsxs("div",{className:"flex flex-col gap-[8px]",children:[e.jsx(n,{fontWeight:500,fontSize:24,color:"#1D1F2C",children:"Categories"}),e.jsx(n,{fontWeight:400,fontSize:16,color:"#667085",children:"The A.I tools should section into these categories"})]}),e.jsx(X,{refreshCategories:r})]}),e.jsx("div",{className:"flex justify-between py-[1rem]",children:e.jsx(v,{value:l,onChange:s=>p(s.target.value),placeholder:"Search Categories",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px"}},InputProps:{startAdornment:e.jsx(V,{position:"start",children:e.jsx(_,{})})}})}),e.jsx("div",{className:"border-t-[1px] border-[#E5E5E6] p-[24px] flex flex-col gap-[16px] h-[500px] overflow-y-auto ",children:f?[...Array(6)].map((s,x)=>e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex gap-[8px] items-center w-full",children:[e.jsx(C,{variant:"circular",width:36,height:36}),e.jsxs("div",{className:"flex flex-col gap-[4px] w-full",children:[e.jsx(C,{variant:"text",width:"30%",height:20}),e.jsx(C,{variant:"text",width:"20%",height:16})]})]})},x)):d==null?void 0:d.map(s=>e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>u(`/category/view/${s._id}`),children:[e.jsxs("div",{className:"flex gap-[8px] items-center",children:[e.jsx("div",{className:"rounded-[100%] p-[8px]",children:e.jsx(Q,{className:"w-[18px] h-[18px]"})}),e.jsxs("div",{className:"flex flex-col gap-[2px]",children:[e.jsx(n,{fontWeight:400,fontSize:14,color:"#1D1F2C",children:s.name}),e.jsx(n,{fontWeight:400,fontSize:12,color:"#667085",children:s.toolCount>1||s.toolCount===0?`${s.toolCount} tools`:`${s.toolCount} tool`})]})]}),e.jsx("div",{className:"flex items-center gap-[20px]",children:e.jsx("div",{onClick:x=>x.stopPropagation(),children:e.jsx(G,{categoryDetails:s,refreshCategories:r})})})]},s._id))})]})]})};export{de as default};
